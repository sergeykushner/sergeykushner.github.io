# Сайт-Портфолио

Сайт-портфолио для отображения iOS-приложений, созданных Sergey Kushner.

## Структура проекта

- `css/` - CSS файлы
- `js/` - JavaScript файлы
- `assets/` - Ассеты (изображения, иконки)
- `index.html` - Главная страница
- `apps.html` - Страница со списком приложений
- `app.html` - Страница для отдельного приложения
- `privacy.html` - Страница с политикой конфиденциальности

## Работа с приватными данными

### Файлы с данными о приложениях

1. `apps.json` - Оригинальный файл с приватными данными (в корне проекта)
2. `apps-public.json` - Публичная версия без приватных ключей (в корне проекта)
3. После изменения оригинального файла нужно запустить скрипт для обновления публичной версии:
   ```bash
   ./js/update-public-json.sh
   ```

### Приватные ключи

Приватные ключи, которые удаляются из публичной версии:
- saleDate
- salePrice
- listingFee
- successFee
- flippaLink
- salePriceComment
- gitHubLink

## Административный скрипт

Для удобства управления сайтом создан административный скрипт, который объединяет все основные операции:

1. Установите зависимости:
   ```bash
   npm install readline-sync cloudinary dotenv fs-extra child_process
   ```

2. Запустите скрипт:
   ```bash
   node js/admin.js
   ```

3. Выберите нужную операцию из меню:
   - Обновить публичный JSON (apps-public.json)
   - Загрузить все изображения из assets
   - Загрузить скриншоты для конкретного приложения

## Работа с Cloudinary

### Конфигурация

1. Файл с ключами доступа к Cloudinary находится в `.env` в корне проекта
2. Для загрузки изображений в Cloudinary нужно:
   - Установить зависимости: `npm install cloudinary dotenv fs-extra`
   - Убедиться, что файл `.env` содержит корректные ключи
   - Запустить скрипт загрузки: `node js/cloudinary.js`

### Загрузка скриншотов

Для загрузки новых скриншотов для приложения:

1. Подготовьте скриншоты:
   - Поместите все скриншоты в отдельную папку
   - Для темной темы добавьте суффикс `-dark` в имена файлов

2. Установите зависимости:
   ```bash
   npm install cloudinary dotenv fs-extra readline-sync
   ```

3. Запустите скрипт:
   ```bash
   node js/cloudinary-upload-screenshots.js
   ```
   
   Скрипт запросит у вас ID приложения и путь к папке со скриншотами.

4. После загрузки обновите массив `screenshots` в файле `apps.json` для вашего приложения
   с соответствующими номерами скриншотов, затем обновите публичную версию:
   ```bash
   ./js/update-public-json.sh
   ```

## Дополнительные параметры в JSON

Для правильного отображения скриншотов можно добавить параметр соотношения сторон:

```json
"screenshotAspectRatio": "1530 / 3036"
```

Параметр устанавливает соотношение сторон скриншотов для конкретного приложения (например, для iPhone разных поколений). Если параметр не указан, используется соотношение по умолчанию (1530 / 3036).

## Git

Файл `apps.json` добавлен в `.gitignore`, поэтому его изменения не будут отслеживаться в Git. 